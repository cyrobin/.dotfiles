# .muttrc for use with IMAP
# Shared settings

# Editor and utf-8 support
set charset=UTF8
set send_charset="iso-8859-1:utf-8"
#set my_editor=`echo $EDITOR`
set my_editor="vim +/^$/ +9"
set editor=$my_editor
set tilde

# Basic config
set imap_check_subscribed
set mail_check = 240
set timeout = 240
set imap_keepalive = 240
set header_cache = "~/.mutt/cache/"
set message_cachedir = "~/.mutt/cache/"
set certificate_file = "~/.mutt/certificates"
set move = no
set include
set sort = 'threads'
set sort_aux = 'reverse-last-date-received'
set auto_tag = yes
unset markers
ignore *                               # first, ignore all headers
unignore From: To: Cc: Date: Subject:  # then, show only these
hdr_order Date: From: To: Cc: Subject  # in this order
#alternative_order text/plain text/html *
alternative_order text/plain text/enriched text/html *     # save html for last
auto_view text/html
bind editor <Tab> complete-query
bind editor ^T complete
bind editor <space> noop
set edit_headers = yes
set autoedit
set forward_quote
set forward_format = "Fwd: %s"
unset mark_old
set reply_self
set sleep_time = 0
unset collapse_unread
set uncollapse_jump
set pipe_decode=yes # avoid cutting lines when piping to other programs (e.g urlview)
#set delete

folder-hook . 'set read_inc=100'
# use very high $read_inc to speed up reading hcache'd maildirs
#folder-hook . 'set read_inc=1000'
# use lower value for reading slower remote IMAP folders
#folder-hook ^imap 'set read_inc=100'
# use even lower value for reading even slower remote POP folders
#folder-hook ^pop 'set read_inc=1'

# Layout
#set status_chars  = " *%A"
#set status_format = "[ Folder: %f ][%r%m messages%?n? (%n new)?]"
set pager_context = 5
set pager_index_lines = 10
set quit = ask-yes

folder-hook . "exec collapse-all"

# Sidebar
set sidebar_width = 20
color sidebar_new yellow default

# Mailcap (autoexecute program declarations)
set mailcap_path 	= ~/.mutt/mailcap

# Check attachement
set sendmail = "~/.mutt/CheckAttach.zsh /usr/bin/sendmail -oem -oi"

# Spell corrector
#set ispell="aspell -e -c"

# Index of mails : (see documentation)
set index_format="%4C %{%b %d} %-20.20L %2e(%2E) %4c %s"

# Contact book (use abook)
set query_command= "abook --mutt-query '%s'"
macro index,pager  a "<pipe-message>abook --add-email-quiet<return>" "Add the sender mail address in Abook"
bind editor  <Tab> complete-query

# Color
source ~/.mutt/muttrc_color

# Keybindings
#source ~/.mutt/muttrc_bepo
source ~/.mutt/muttrc_qwerty
#set my_layout="~/.mutt/muttrc_`echo $MYLAYOUT`"
#source  $my_layout

