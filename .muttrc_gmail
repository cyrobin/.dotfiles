# .muttrc for use with IMAP

# IMAP Settings
set imap_user = "YOUR.EMAIL@gmail.com"
set imap_pass = "PASSWORD"
set folder = "imaps://imap.gmail.com:993"
set spoolfile = "+INBOX"


# SMTP Settings
set smtp_url = "smtp://YOUR.EMAIL@smtp.gmail.com:587/"
set smtp_pass = "PASSWORD"
set from = "YOUR.EMAIL@gmail.com"
set realname = "YOUR NAME"

set hostname = "gmail.com"
set postponed = "+[Gmail]/Drafts"
set record = "+[Gmail]/Sent Mail"

# Editor and utf-8 support
set charset=UTF8
set send_charset="iso-8859-1:utf-8"
set editor=`echo \$EDITOR`
set tilde

# Basic config 
set imap_check_subscribed
set mail_check = 120
set timeout = 300
set imap_keepalive = 300
set header_cache=~/.mutt/cache/headers
set message_cachedir=~/.mutt/cache/bodies
set certificate_file=~/.mutt/certificates
set move = no
set include
set sort = 'threads'
set sort_aux = 'reverse-last-date-received'
set auto_tag = yes
unset markers
ignore *                               # first, ignore all headers
unignore From: To: Cc: Date: Subject:  # then, show only these
hdr_order Date: From: To: Cc: Subject  # in this order
alternative_order text/plain text/html *
auto_view text/html
bind editor <Tab> complete-query
bind editor ^T complete
bind editor <space> noop 
set forward_quote
set forward_format = "Fwd: %s"
unset mark_old
set reply_self

# Layout
set status_chars  = " *%A"
set status_format = "[ Folder: %f ][%r%m messages%?n? (%n new)?]"
set pager_context = 5
set pager_index_lines = 10
#set pager_stop
set quit = ask-yes

# Gmail-style keyboard shortcuts
macro index,pager y "<enter-command>unset trash\n <delete-message>" "Gmail archive message"
macro index,pager d "<enter-command>set trash=\"imaps://imap.googlemail.com/[GMail]/Bin\"\n <delete-message>" "Gmail delete message"
macro index,pager gi "<change-folder>=INBOX<enter>" "Go to inbox"
macro index,pager ga "<change-folder>=[Gmail]/All Mail<enter>" "Go to all mail"
macro index,pager gs "<change-folder>=[Gmail]/Starred<enter>" "Go to starred messages"
macro index,pager gd "<change-folder>=[Gmail]/Drafts<enter>" "Go to drafts"
## Vim like keybinds
bind pager j next-line
bind pager k previous-line

# Only if the sidebar is used
set sidebar_width = 30
bind index,pager \ek sidebar-prev
bind index,pager \ej sidebar-next
bind index,pager \eo sidebar-open
macro index,pager \eh ":set sidebar_visible=no<enter>" "Hide Sidebar"
macro index,pager \el ":set sidebar_visible=yes<enter>" "Show Sidebar"

# Add contacts to google
#macro index,pager a "goobook add" "add the sender address to Google contacts"
# Reload goobook db
#macro index,pager gr "!goobook reload\n" "Goobook reload"

# Mailcap (autoexecute program declarations)
set mailcap_path 	= ~/.mutt/mailcap

